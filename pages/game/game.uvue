<template>
	<view class="container">
		<view class="header">
			<text class="title">ğŸ® æ¸¸æˆ</text>
		</view>
		<scroll-view class="game-list" scroll-y="true">
			<view class="game-row" v-for="(row, rowIndex) in gameRows" :key="rowIndex">
				<view 
					class="game-card" 
					v-for="(game, index) in row" 
					:key="index"
					@click="goToGameDetail(game)"
				>
					<view class="card-cover">
						<text class="cover-emoji">{{ game.emoji }}</text>
					</view>
					<text class="card-title">{{ game.name }}</text>
				</view>
			</view>
		</scroll-view>
	</view>
</template>

<script lang="uts">
	type GameItem = {
		id: any
		name: string
		emoji: string
		description: string
	}
	
	export default {
		data() {
			const games: GameItem[] = [
				{ id: 1, name: "èˆ’å°”ç‰¹æ–¹æ ¼", emoji: "ğŸ§©", description: "å¿«é€Ÿå¯»æ‰¾åˆ°æ•°å­—ï¼Œæå‡ä¸“æ³¨èƒ½åŠ›" },
				{ id: "2", name: "å¬æ•°æŒ‘æˆ˜", emoji: "ğŸ§", description: "å¬æ•°å­—å¹¶æ­£ç¡®è¾“å…¥ï¼Œæå‡å¬è§‰è®°å¿†" },
				{ id: "3", name: "å†¥æƒ³æ¸¸æˆ", emoji: "ğŸ”¤", description: "åœ¨å†’é™©ä¸­å­¦ä¹ å­—æ¯ï¼Œå¯“æ•™äºä¹" },
				{ id: "4", name: "å½¢çŠ¶è¯†åˆ«", emoji: "â­", description: "è®¤è¯†å„ç§å½¢çŠ¶ï¼Œå¼€å‘ç©ºé—´æƒ³è±¡åŠ›" },
				{ id: "5", name: "è®°å¿†æŒ‘æˆ˜", emoji: "ğŸ§ ", description: "æŒ‘æˆ˜è®°å¿†åŠ›ï¼Œé”»ç‚¼å¤§è„‘" },
				{ id: "6", name: "éŸ³ä¹èŠ‚å¥", emoji: "ğŸµ", description: "è·ŸéšèŠ‚å¥ï¼ŒåŸ¹å…»éŸ³ä¹æ„Ÿ" }
			]
			const rows: GameItem[][] = []
			for (let i = 0; i < games.length; i += 2) {
				rows.push(games.slice(i, i + 2))
			}
			return {
				games: games,
				gameRows: rows
			}
		},
		onLoad() {
			
		},
		methods: {
			goToGameDetail(game: GameItem) {
				// æ ¹æ®æ¸¸æˆIDè·³è½¬åˆ°å¯¹åº”çš„è¯¦æƒ…é¡µé¢
				const gameId = game.id
				if (gameId === 1 || gameId === "1" || game.name === "èˆ’å°”ç‰¹æ–¹æ ¼" || game.name.includes("èˆ’å°”ç‰¹")) {
					// èˆ’å°”ç‰¹æ–¹æ ¼ - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/schulte-detail'
					})
				} else if (gameId === "2" || game.name === "å¬æ•°æŒ‘æˆ˜" || game.name.includes("å¬æ•°")) {
					// å¬æ•°æŒ‘æˆ˜ - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/numhearing-detail'
					})
				} else if (gameId === "3" || game.name === "å†¥æƒ³æ¸¸æˆ" || game.name.includes("å†¥æƒ³")) {
					// å†¥æƒ³æ¸¸æˆ - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/meditation-detail'
					})
				} else if (gameId === "4" || game.name === "å½¢çŠ¶è¯†åˆ«" || game.name.includes("å½¢çŠ¶")) {
					// å½¢çŠ¶è¯†åˆ« - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/shape-detail'
					})
				} else if (gameId === "5" || game.name === "è®°å¿†æŒ‘æˆ˜" || game.name.includes("è®°å¿†")) {
					// è®°å¿†æŒ‘æˆ˜ - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/memory-detail'
					})
				} else if (gameId === "6" || game.name === "éŸ³ä¹èŠ‚å¥" || game.name.includes("éŸ³ä¹")) {
					// éŸ³ä¹èŠ‚å¥ - è·³è½¬åˆ°ä¸“å±è¯¦æƒ…é¡µ
					uni.navigateTo({
						url: '/pages/game/detail/music-detail'
					})
				} else {
					// å…¶ä»–æ¸¸æˆè·³è½¬åˆ°é€šç”¨è¯¦æƒ…é¡µé¢
					uni.navigateTo({
						url: `/pages/game/detail/detail?id=${game.id}&name=${encodeURIComponent(game.name)}&emoji=${encodeURIComponent(game.emoji)}&description=${encodeURIComponent(game.description)}`
					})
				}
			}
		}
	}
</script>

<style>
	.container {
		flex: 1;
		background-color: #B8E6D4;
		padding: 20px;
	}
	
	.header {
		margin-top: 40px;
		margin-bottom: 30px;
	}
	
	.title {
		font-size: 32px;
		font-weight: bold;
		color: #FFFFFF;
		text-align: center;
		background-color: #4ECDC4;
		padding: 8px 16px;
		border-radius: 8px;
		border: 2px solid #FFFFFF;
	}
	
	.game-list {
		flex: 1;
		margin-top: 20px;
	}
	
	.game-row {
		flex-direction: row;
		justify-content: space-between;
		margin-bottom: 20px;
		padding: 0 5px;
	}
	
	.game-card {
		width: 48%;
		background-color: #FFFFFF;
		border-radius: 20px;
		border: 4px solid #FFFFFF;
		border-bottom-width: 8px;
		border-bottom-color: #D0D0D0;
		padding: 15px;
		align-items: center;
	}
	
	.game-card:active {
		background-color: #F5F5F5;
		border-bottom-width: 4px;
	}
	
	.card-cover {
		width: 100%;
		height: 140px;
		background-color: #FFD4B8;
		border-radius: 15px;
		border: 3px solid #FFFFFF;
		align-items: center;
		justify-content: center;
		margin-bottom: 12px;
	}
	
	.cover-emoji {
		font-size: 70px;
	}
	
	.card-title {
		font-size: 18px;
		font-weight: bold;
		color: #4ECDC4;
		text-align: center;
	}
</style>
